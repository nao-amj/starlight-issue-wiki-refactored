---
import MainLayout from './MainLayout.astro';

const { frontmatter } = Astro.props;
const { name, japaneseName, age, occupation, ability, abilityLevel, image } = frontmatter;
const basePath = '/starlight-issue-wiki-refactored';
---

<MainLayout title={name}>
  <div class="max-w-5xl mx-auto">
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
      <div class="md:flex">
        <div class="md:flex-shrink-0 md:w-1/3">
          {image && (
            <img 
              src={`${basePath}/images/characters/${image}`}
              alt={name}
              class="w-full h-full object-cover object-center"
              onerror={`this.onerror=null; this.src='${basePath}/images/character-placeholder.png'`}
            />
          )}
        </div>
        <div class="p-6 md:w-2/3">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
            <div>
              <h1 class="text-2xl font-bold text-dark">{name}</h1>
              <p class="text-gray-500">{japaneseName}</p>
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="bg-gray-50 p-3 rounded">
              <span class="text-sm text-gray-500">年齢</span>
              <p>{age} 歳</p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
              <span class="text-sm text-gray-500">職業</span>
              <p>{occupation}</p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
              <span class="text-sm text-gray-500">能力</span>
              <p>{ability}</p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
              <span class="text-sm text-gray-500">能力レベル</span>
              <p>{abilityLevel}</p>
            </div>
          </div>
          
          <div class="prose max-w-none">
            <slot />
          </div>
        </div>
      </div>
    </div>
  </div>
</MainLayout>
